<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>LightChain:A Lightweight Blockchain System for Industrial Internet of Things | XuShun's Blog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=Description content="书藏的个人博客，包括Golang、数据结构、算法的学习记录，各类生活技能的学习，每周五发布一期自己的生活周刊"><link rel=prev href=https://xushun1221.github.io/2019/data-storage-in-blockchain/><link rel=next href=https://xushun1221.github.io/2019/a-case-study-for-blockchain-in-manufacturing-fabrec/><link rel=canonical href=https://xushun1221.github.io/2019/lightchaina-lightweight-blockchain-system-for-industrial-internet-of-things/><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary"><meta name=twitter:title content="LightChain:A Lightweight Blockchain System for Industrial Internet of Things"><meta name=twitter:description content="Author： Yinqiu Liu, Kun Wang, Yun Lin, and Wenyao Xu
Published in：IEEE Transactions on Industrial Informatics
State：Early Access
Index Terms：Blockchain, Industrial Internet of Things, Distributed System, Consensus Mechanism, Data Filter.
Abstract
虽然区块链和IIoT之间的结合得到了广泛的关注，但区块链的高资源需求和IIoT设备的有限性能之间的矛盾还无法较好的解决。一方面，由于公钥结构、默克尔树和PoW等数学概念的引入，部署区块链需要巨大的算力；另一方面，全节点应该能同步大量的区块数据和处理P2P网络中的大量交易。IIoT设备难以承受其对存储容量和带宽的占用。本文中，我们提出了名为LightChain的轻量级区块链使其适用于IIoT场景，提出了一个名为**Synergistic Multiple Proof（SMP）的共识机制来促进IIoT设备间的合作，提出了一种称为LightBlock（LB）**的轻量级数据结构，用于简化广播内容。此外，还设计了一种 **Unrelated Block Offloading Filter (UBOF)**以避免分类帐的无限增长，同时不影响区块链的可追溯性。实验表明，LightChain可以将计算成本降低39.32％，将块生成速度提高74.06％。在存储和网络使用方面，降幅分别为43.35％和90.55％。"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"LightChain:A Lightweight Blockchain System for Industrial Internet of Things","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/xushun1221.github.io\/2019\/lightchaina-lightweight-blockchain-system-for-industrial-internet-of-things\/"},"image":{"@type":"ImageObject","url":"https:\/\/xushun1221.github.io\/cover.png","width":800,"height":600},"genre":"posts","keywords":"论文笔记","wordcount":2364,"url":"https:\/\/xushun1221.github.io\/2019\/lightchaina-lightweight-blockchain-system-for-industrial-internet-of-things\/","datePublished":"2019-03-19T11:00:00\x2b08:00","dateModified":"2019-03-19T11:00:00\x2b08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"shuzang","logo":{"@type":"ImageObject","url":"https:\/\/xushun1221.github.io\/logo.png","width":127,"height":40}},"description":""}</script><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/css/lib/fontawesome-free/all.min.css></head><body><script>window.isDark=(window.localStorage&&window.localStorage.getItem('theme'))==='dark';window.isDark&&document.body.classList.add('dark-theme');</script><div class=wrapper><nav class=navbar><div class=top-scroll-bar></div><div class=navbar-container><div class="navbar-header animated bounceIn"><a href=https://xushun1221.github.io>XuShun's Blog</a></div><div class=navbar-menu><a class=menu-item href=https://xushun1221.github.io/posts>Posts</a><a class=menu-item href=https://xushun1221.github.io/tags>Tags</a><a class=menu-item href=https://xushun1221.github.io/categories>Categories</a><a class=menu-item href=https://xushun1221.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><nav class=navbar-mobile><div class=top-scroll-bar></div><div class=navbar-container><div class=navbar-header><div class="navbar-header-title animated bounceIn"><a href=https://xushun1221.github.io>XuShun's Blog</a></div><div class=menu-toggle id=menu-toggle><span></span><span></span><span></span></div></div><div class=navbar-menu id=mobile-menu><a class=menu-item href=https://xushun1221.github.io/posts>Posts</a><a class=menu-item href=https://xushun1221.github.io/tags>Tags</a><a class=menu-item href=https://xushun1221.github.io/categories>Categories</a><a class=menu-item href=https://xushun1221.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><main class=main><div class=container><article class=page><h1 class="post-title animated flipInX">LightChain:A Lightweight Blockchain System for Industrial Internet of Things</h1><div class=post-meta><i class="far fa-calendar-alt fa-fw"></i>published on&nbsp;<time datetime=2019-03-19>2019-03-19</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>about 2364 words&nbsp;<span class=post-category><i class="far fa-folder fa-fw"></i>included in&nbsp;<a href=https://xushun1221.github.io/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/>研究生的区块链学习之路</a>&nbsp;</span></div><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#abstract>Abstract</a></li><li><a href=#一introduction>一、Introduction</a></li><li><a href=#二proposal>二、Proposal</a><ul><li><a href=#1-framework>1. Framework</a></li><li><a href=#2-lightchain-layer>2. LightChain Layer</a></li></ul></li><li><a href=#三evaluation>三、Evaluation</a><ul><li><a href=#1-安全分析>1. 安全分析</a></li><li><a href=#2-结果分析>2. 结果分析</a></li></ul></li><li><a href=#四conclusion>四、Conclusion</a></li></ul></nav></div></div><div class=post-toc-mobile id=post-toc-mobile><details><summary><div class=post-toc-title><span>Contents</span>
<span><i class="details icon fas fa-angle-down"></i></span></div></summary><div class=post-toc-content><nav id=TableOfContentsMobile><ul><li><a href=#abstract>Abstract</a></li><li><a href=#一introduction>一、Introduction</a></li><li><a href=#二proposal>二、Proposal</a><ul><li><a href=#1-framework>1. Framework</a></li><li><a href=#2-lightchain-layer>2. LightChain Layer</a></li></ul></li><li><a href=#三evaluation>三、Evaluation</a><ul><li><a href=#1-安全分析>1. 安全分析</a></li><li><a href=#2-结果分析>2. 结果分析</a></li></ul></li><li><a href=#四conclusion>四、Conclusion</a></li></ul></nav></div></details></div><div class=post-content><p>Author： Yinqiu Liu, Kun Wang, Yun Lin, and Wenyao Xu</p><p>Published in：IEEE Transactions on Industrial Informatics</p><p>State：Early Access</p><p>Index Terms：Blockchain, Industrial Internet of Things, Distributed System, Consensus Mechanism, Data Filter.</p><a class=post-dummy-target id=abstract></a><h2>Abstract</h2><p>虽然区块链和IIoT之间的结合得到了广泛的关注，但区块链的高资源需求和IIoT设备的有限性能之间的矛盾还无法较好的解决。一方面，由于公钥结构、默克尔树和PoW等数学概念的引入，部署区块链需要巨大的算力；另一方面，全节点应该能同步大量的区块数据和处理P2P网络中的大量交易。IIoT设备难以承受其对存储容量和带宽的占用。本文中，我们提出了名为<strong>LightChain</strong>的轻量级区块链使其适用于IIoT场景，提出了一个名为**Synergistic Multiple Proof（SMP）<strong>的共识机制来促进IIoT设备间的合作，提出了一种称为</strong>LightBlock（LB）**的轻量级数据结构，用于简化广播内容。此外，还设计了一种 **Unrelated Block Offloading Filter (UBOF)**以避免分类帐的无限增长，同时不影响区块链的可追溯性。实验表明，LightChain可以将计算成本降低39.32％，将块生成速度提高74.06％。在存储和网络使用方面，降幅分别为43.35％和90.55％。</p><a class=post-dummy-target id=一introduction></a><h2>一、Introduction</h2><p>IIoT被大量采用，但有如下问题：</p><ul><li>拥有大量分散的设备，面对DDoS攻击是脆弱的</li><li>中心化的管理结构无法自我认证，会产生隐私泄露问题</li><li>LPWAN的发展使大量IIoT设备在地理上是分离的，中心化服务的花费难以承受</li></ul><p>最近大家都在研究如何将区块链部署在IIoT来解决上述问题。</p><ul><li>基于区块链不可否认和难以篡改的特性，在P2P网络中共同维持工业信息，可以实现数据追溯，并达成在非信任环境中的价值传递</li><li>区块链能提供分布式的域名服务，有助于解决当前DNS的漏洞，诸如DDoS攻击和DNS欺骗</li></ul><p>已有区块链和IoT/IIoT结合的例子如Ruffchain等。然而，IIoT设备无法满足区块链的高资源需求。有很多方案来优化区块链的资源消耗问题，如：</p><ul><li><p>Ehmke[23]，区块链协议PoP，允许不必下载整个区块而验证交易</p></li><li><p>Dorri[24]，私有不可变分类账，中心化的管理</p></li><li><p>Li[25]，DAG</p></li><li><p>Zamani[26]，分片（Sharding）</p></li><li><p>Bitcoin-NG，leadership selection</p></li><li><p>Multichain，cross-chain mechanism</p></li></ul><p>但它们都只优化一方面。</p><p>将区块链部署在IIoT场景面临的关键问题包括：</p><ul><li>打包区块有奖励，所以算力高的节点会持续增加算力，所有节点陷入算力竞争，最后由于马太效应，导致算力集中</li><li>为了实现分布式的一致性，区块链需要参与者保存网络中产生的大量数据，所有的数据保存在本地并不断增长而没有减少，会占用大量存储空间</li><li>IIoT场景异构网络很常见，在高吞吐量的情况下，资源有限的节点无法支持区块链相关的操作</li></ul><p>本文为了解决上述问题，本文提出一种轻量级区块链，资源问题和解决方案如下：</p><ul><li>算力—通过新的共识方案SMP</li><li>存储空间—检测不相干块（UB），通过一个过滤器（UBOF）过滤它们，减少存储占用</li><li>网络资源—广播数据结构LightBlock而不是整个块，减少广播时通信的冗余</li></ul><br><a class=post-dummy-target id=二proposal></a><h2>二、Proposal</h2><a class=post-dummy-target id=1-framework></a><h3>1. Framework</h3><p>整个方案分四层，如图1所示，从上到下依次是：API层，LightChain层，Cache层，Storage层。</p><p>图1. Four-layer framework of LightChain</p><p><figure><img src=/svg/loading.min.svg data-sizes=auto data-src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/9424/8736410/8664132/wang1-2904049-large.gif alt="Four-layer framework of LightChain" class=lazyload><figcaption class=image-caption>Four-layer framework of LightChain</figcaption></figure></p><p>各层功能如下：</p><p>API层：提供各种操作的请求接口</p><p>LightChain层：即普遍意义上的区块链，包括共识机制等部分</p><p>Cache层：用了加速对调用操作的响应</p><p>Storage层：提供持久化的存储，通常只由资源富裕的节点提供此服务</p><p>如图1，以具体的工厂实例来说明，传感器发起的交易请求通过局域网发送到Node1，Node1的API层处理这些请求并发送到区块链（即LightChain层），在LightChain层完成验证。受限于存储问题，将数据存储分为两类，完整的区块链数据会存在云端数据库作为备份，Node1会对数据进行过滤缓存有效数据。</p><a class=post-dummy-target id=2-lightchain-layer></a><h3>2. LightChain Layer</h3><p>LightChain层的结构如图2，</p><p>图2. Architecture of LightChain layer，由Conchain，Webchain和Chainbase三部分组成。类似于C/S架构，Conchain/Webchain是Client端。模块间通信通过本地Socket完成。</p><p><figure><img src=/svg/loading.min.svg data-sizes=auto data-src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/9424/8736410/8664132/wang2-2904049-large.gif alt="Architecture of LightChain layer" class=lazyload><figcaption class=image-caption>Architecture of LightChain layer</figcaption></figure></p><p>Webchain：将API层发送的操作类型和JSON流转换称预定义的信息类型和二进制流</p><p>Conchain：在本地挖到新块或接受到块验证请求后，将消息发送到Chainbase</p><ul><li>共识机制—减少资源消耗</li><li>P2P网络—减少广播冗余</li></ul><p>Chainbase：管理本地交易池，验证交易，拥有添加或过滤Cache layer数据缓存的权限</p><a class=post-dummy-target id=三evaluation></a><h2>三、Evaluation</h2><p>构建实验网络时模拟了IIoT的实际场景。主要考虑了IIoT场景的以下特征</p><ul><li>网络异构及地理分离</li><li>资源限制</li><li>复杂的网络拓扑</li></ul><p>使用阿里云的10台ECS构建了一个P2P网络，ECSs作为全节点（矿工节点）工作，并且各ECS具有不同的CPU和内存，部署在亚洲多个地点，算力级别在MH/s，符合IIoT设备能力，每个ECS拥有自己的公网IP，同一地点的ECS在同一网段。</p><p>开发了一个自动交易生成器，控制几个交易并间隔固定的时间提交随机交易，这里的账户作为P2P网络中的轻量级节点。</p><p>每个矿工连接到一个交易生成器，设置两个参数，一个控制账户数量，决定P2P网络的规模；一个用于控制交易生成的间隔。</p><a class=post-dummy-target id=1-安全分析></a><h3>1. 安全分析</h3><p>分析对几种攻击的抵御能力：</p><ul><li>双花攻击</li><li>无厉害关系（PoS中同时在多个fork上投票以获取最大利益）</li></ul><a class=post-dummy-target id=2-结果分析></a><h3>2. 结果分析</h3><p>共识：</p><ul><li>CPU使用率：减少</li><li>块生成速度：增加</li><li>算力消耗：减少</li></ul><p>网络：通信冗余减少</p><p>存储：过滤区块，存储减少</p><a class=post-dummy-target id=四conclusion></a><h2>四、Conclusion</h2><p>为了使区块链适用于IIoT场景，提出共识算法SMP减少算力消耗，提出数据结构LB减少通信冗余，过滤区块减小存储负担。并通过实验证明了该方案的优越性。</p></div><div class=post-copyright id=post-footer><p class=copyright-item><span>Author:&nbsp;</span>
<span>shuzang</span></p><p class=copyright-item><span>Updated on:&nbsp;</span>
<span>2019-03-19</span></p><p class=copyright-item><span>Share on:&nbsp;</span>
<span><a href="//twitter.com/share?url=https%3a%2f%2fxushun1221.github.io%2f2019%2flightchaina-lightweight-blockchain-system-for-industrial-internet-of-things%2f&text=LightChain%3aA%20Lightweight%20Blockchain%20System%20for%20Industrial%20Internet%20of%20Things&via=" target=_blank title="Share on Twitter"><i class="fab fa-twitter fa-fw"></i></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fxushun1221.github.io%2f2019%2flightchaina-lightweight-blockchain-system-for-industrial-internet-of-things%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook-square fa-fw"></i></a><a href="//reddit.com/submit?url=https%3a%2f%2fxushun1221.github.io%2f2019%2flightchaina-lightweight-blockchain-system-for-industrial-internet-of-things%2f&title=LightChain%3aA%20Lightweight%20Blockchain%20System%20for%20Industrial%20Internet%20of%20Things" target=_blank title="Share on Reddit"><i class="fab fa-reddit fa-fw"></i></a></span></p><p class=copyright-item></p><p class=copyright-item></p></div><br><div class=post-info-more><section><span class=tag><a href=https://xushun1221.github.io/tags/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/><i class="fas fa-tag fa-fw"></i>&nbsp;论文笔记</a>&nbsp;</span></section><section><span><a href=javascript:window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=https://xushun1221.github.io>Home</a></span></section></div><div class=post-nav><a href=https://xushun1221.github.io/2019/data-storage-in-blockchain/ class=prev rel=prev title=研究记录1-区块链的数据存储问题><i class="fas fa-angle-left fa-fw"></i>研究记录1-区块链的数据存储问题</a>
<a href=https://xushun1221.github.io/2019/a-case-study-for-blockchain-in-manufacturing-fabrec/ class=next rel=next title="A Case Study for Blockchain in Manufacturing “FabRec”">A Case Study for Blockchain in Manufacturing “FabRec”<i class="fas fa-angle-right fa-fw"></i></a></div><div class=post-comment></div></article></div></main><footer class=footer><div class=copyright><div class=copyright-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://shuzang.github.io/about/ target=_blank>shuzang</a> | </span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreffer">Hugo</a> & <a href=https://github.com/dillonzq/LoveIt target=_blank rel="external nofollow noopener noreffer">LoveIt</a></div></div></footer></div><a href=# class=dynamic-to-top id=dynamic-to-top data-scroll><span>&nbsp;</span></a>
<script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-209130979-1','auto');ga('set','anonymizeIp',true);ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=/js/lib/jquery/jquery.slim.min.js></script><script src=/js/lib/lazysizes/lazysizes.min.js></script><script src=/js/lib/smooth-scroll/smooth-scroll.polyfills.min.js></script><script>window.scroll=new SmoothScroll('[data-scroll]',{speed:300,speedAsDuration:true});</script><link rel=stylesheet href=/css/lib/katex/katex.min.css><script src=/js/lib/katex/katex.min.js></script><script defer src=/js/lib/katex/auto-render.min.js></script><link rel=stylesheet href=/css/lib/katex/copy-tex.min.css><script defer src=/js/lib/katex/copy-tex.min.js></script><script defer src=/js/lib/katex/mhchem.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:true},{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true},{left:"$",right:"$",display:false},]});});</script><script src=/js/blog.min.js></script></body></html>