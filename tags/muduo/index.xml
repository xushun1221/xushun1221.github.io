<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>muduo on XuShun's Blog</title><link>https://xushun1221.github.io/tags/muduo/</link><description>Recent content in muduo on XuShun's Blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 02 Oct 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://xushun1221.github.io/tags/muduo/index.xml" rel="self" type="application/rss+xml"/><item><title>【重写muduo】21 - 编译安装脚本&amp;测试代码</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo21-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81/</link><pubDate>Sun, 02 Oct 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo21-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81/</guid><description>编译安装脚本 我们的项目使用cmake管理，需要编译为一个.so动态库，动态库安装到系统/usr/lib目录下，头文件拷贝到/usr/incl</description></item><item><title>【重写muduo】20 - TcpServer终章</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo20-tcpserver%E7%BB%88%E7%AB%A0/</link><pubDate>Fri, 30 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo20-tcpserver%E7%BB%88%E7%AB%A0/</guid><description>写完TcpConnection之后，我们就可以来实现TcpServer的完整版本了。 TcpConnection主要做的事情就是，处理新到来的</description></item><item><title>【重写muduo】18 - Buffer缓冲区</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo18-buffer%E7%BC%93%E5%86%B2%E5%8C%BA/</link><pubDate>Sat, 24 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo18-buffer%E7%BC%93%E5%86%B2%E5%8C%BA/</guid><description>在实现TcpConnection之前，需要实现底层的缓冲区Buffer，具体的实现细节在注释里非常详细的说明了。不再赘述。 源码 Buffer.hh 1 2 3 4 5 6</description></item><item><title>【重写muduo】19 - TcpConnection</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo19-tcpconnection/</link><pubDate>Sat, 24 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo19-tcpconnection/</guid><description>TcpConnection管理一个socket及其对应的channel、tcp连接状态、一对输入输出缓冲区、设置channel的各种回调函数</description></item><item><title>【重写muduo】15 - Socket类</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo15-socket%E7%B1%BB/</link><pubDate>Thu, 22 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo15-socket%E7%B1%BB/</guid><description>Socket类封装了网络套接字相关的文件描述符和相关方法。 源码 Socket.hh 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 #ifndef __SOCKET_HH_#define __SOCKET_HH_ #include &amp;#34;noncopyable.hh&amp;#34; class InetAddress;</description></item><item><title>【重写muduo】16 - Acceptor</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo16-acceptor/</link><pubDate>Thu, 22 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo16-acceptor/</guid><description>对listenfd和accept函数的封装。 Acceptor运行在mainloop中，负责接收新用户的连接。 源码 Acceptor.hh 1 2 3 4 5 6 7 8 9 10 11 12 13</description></item><item><title>【重写muduo】17 - TcpServer服务器类</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo17-tcpserver%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B1%BB/</link><pubDate>Thu, 22 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo17-tcpserver%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B1%BB/</guid><description>到这里，muduo中和TcpServer相关的组件基本都写好了，我们先把TcpServer写个大概。 因为TcpConnection的内容还没</description></item><item><title>【重写muduo】12 - Thread</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo12-thread/</link><pubDate>Wed, 21 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo12-thread/</guid><description>muduo库中使用了POSIX线程库，而我们使用c++11标准的线程库对线程类Thread进行封装。 源码 Thread.hh 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17</description></item><item><title>【重写muduo】13 - EventLoopThread</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo13-eventloopthread/</link><pubDate>Wed, 21 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo13-eventloopthread/</guid><description>上一篇我们封装了Thread类，EventLoopThread类将一个EventLoop和一个Thread封装在一起，实现一个线程运行一个事</description></item><item><title>【重写muduo】14 - EventLoopThreadPool池</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo14-eventloopthreadpool%E6%B1%A0/</link><pubDate>Wed, 21 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo14-eventloopthreadpool%E6%B1%A0/</guid><description>muduo中除了用于处理新用户连接的主事件循环mainloop(baseloop)外，还有进行已连接用户读写事件操作的subloop，用户可</description></item><item><title>【重写muduo】11 - EventLoop事件循环</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo11-eventloop%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/</link><pubDate>Tue, 20 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo11-eventloop%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/</guid><description>EventLoop事件循环类，主要是封装Poller、回调函数执行逻辑、mainloop和subloop之间的通信方法。 mainloop 与 subloop 通信方式 mud</description></item><item><title>【重写muduo】10 - CurrentThread</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo10-currentthread/</link><pubDate>Mon, 19 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo10-currentthread/</guid><description>获得线程的唯一标识 muduo库使用的模型是：one loop per thread，每个EventLoop都是在一个单独的线程中运行的，需要控制一些和线程相</description></item><item><title>【重写muduo】08 - Poller抽象类</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo08-poller%E6%8A%BD%E8%B1%A1%E7%B1%BB/</link><pubDate>Sun, 18 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo08-poller%E6%8A%BD%E8%B1%A1%E7%B1%BB/</guid><description>muduo中，使用Poller抽象类来抽象不同的IO复用方法，muduo支持poll和epoll两种IO复用。 在Poller实现中，我们使用</description></item><item><title>【重写muduo】09 - EPollPoller事件分发器</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo09-epollpoller%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91%E5%99%A8/</link><pubDate>Sun, 18 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo09-epollpoller%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91%E5%99%A8/</guid><description>通过继承Poller抽象类来实现对epoll多路复用的的封装。 分析几个关键成员变量： Poller::ChannelMap Poller::channels_：用于存储所有注册到</description></item><item><title>【重写muduo】07 - Channel通道</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo07-channel%E9%80%9A%E9%81%93/</link><pubDate>Sat, 17 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo07-channel%E9%80%9A%E9%81%93/</guid><description>muduo库里面，TcpServer的事件循环EventLoop中，主要包含两大模块，一个是Channel列表，另一个是Poller。 Cha</description></item><item><title>【重写muduo】06 - InetAddress地址类</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo06-inetaddress%E5%9C%B0%E5%9D%80%E7%B1%BB/</link><pubDate>Fri, 16 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo06-inetaddress%E5%9C%B0%E5%9D%80%E7%B1%BB/</guid><description>这里没什么好写的，就是把sockaddr_in以及相关的函数进行封装，我们仅支持ipv4。 源码 InetAddress.hh 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22</description></item><item><title>【重写muduo】04 - Logger日志系统</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo04-logger%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F/</link><pubDate>Thu, 15 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo04-logger%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F/</guid><description>日志系统，我们使用和muduo库不同的实现，日志直接输出到控制台。 单例模式 我们使用单例模式来实现Logger类。 使用static Logger&amp;amp; insta</description></item><item><title>【重写muduo】05 - Timestamp时间戳</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo05-timestamp%E6%97%B6%E9%97%B4%E6%88%B3/</link><pubDate>Thu, 15 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo05-timestamp%E6%97%B6%E9%97%B4%E6%88%B3/</guid><description>时间戳类，我们只实现时间戳的核心功能，返回当前时间戳以及时间戳转格式化字符串。 使用c++11标准的chrono库来获取微秒级时间戳，使用c库</description></item><item><title>【重写muduo】02 - CMake构建项目</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo02-cmake%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE/</link><pubDate>Wed, 14 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo02-cmake%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE/</guid><description>在~/mymuduo/下构建该项目，使用CMake来编译生成项目。 CMakeLists.txt文件内容： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 cmake_minimum_required(VERSION 2.5)project(mymuduo)# my</description></item><item><title>【重写muduo】03 - noncopyable接口类</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo03-noncopyable%E6%8E%A5%E5%8F%A3%E7%B1%BB/</link><pubDate>Wed, 14 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo03-noncopyable%E6%8E%A5%E5%8F%A3%E7%B1%BB/</guid><description>理解源码 在原muduo库中(noncopyable.h)有这样一个类： 1 2 3 4 5 6 7 8 9 10 class noncopyable { public: noncopyable(const noncopyable&amp;amp;) = delete; void operator=(const noncopyable&amp;amp;) = delete; protected: noncopyable() = default; ~noncopyable() = default; }; 这个类的</description></item><item><title>【重写muduo】01 - 安装和使用 muduo</title><link>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo01-%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8-muduo/</link><pubDate>Wed, 07 Sep 2022 00:00:00 +0000</pubDate><guid>https://xushun1221.github.io/2022/%E9%87%8D%E5%86%99muduo01-%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8-muduo/</guid><description>安装 muduo 先把muduo和boost的源码下载下来（muduo需要依赖boost）。 boost 源码库编译安装 先解压： 1 2 3 4 5 6 7 xushun@xushun-virtual-machine:~/Downloads$ tar -zxvf boost_1_69_0.tar.gz ... xushun@xushun-virtual-machine:~/Downloads$ cd boost_1_69_0/ xushun@xushun-virtual-machine:~/Downloads/boost_1_69_0$ ls boost</description></item></channel></rss>