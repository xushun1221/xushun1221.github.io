<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>An Attribute-Based Distributed Access Control for Blockchain-enabled IoT | Shuzang's Blog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=Description content="书藏的个人博客，包括Golang、数据结构、算法的学习记录，各类生活技能的学习，每周五发布一期自己的生活周刊"><link rel=prev href=https://shuzang.github.io/2020/attribute-based-access-control/><link rel=next href=https://shuzang.github.io/2020/using-docker-installation-to-run-mysql/><link rel=canonical href=https://shuzang.github.io/2020/an-attribute-based-distributed-access-control-for-blockchain-enabled-iot/><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary"><meta name=twitter:title content="An Attribute-Based Distributed Access Control for Blockchain-enabled IoT"><meta name=twitter:description content="P. Wang, Y. Yue, W. Sun, and J. Liu, “An Attribute-Based Distributed Access Control for Blockchain-enabled IoT,” in 2019 International Conference on Wireless and Mobile Computing, Networking and Communications (WiMob), Barcelona, Spain, Oct. 2019, pp. 1–6, doi: 10.1109/WiMOB.2019.8923232. 第一作者是西电的，国家自然科学基金项目成果，研"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"An Attribute-Based Distributed Access Control for Blockchain-enabled IoT","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/2020\/an-attribute-based-distributed-access-control-for-blockchain-enabled-iot\/"},"image":{"@type":"ImageObject","url":"https:\/\/shuzang.github.io\/cover.png","width":800,"height":600},"genre":"posts","keywords":"论文笔记","wordcount":2877,"url":"https:\/\/shuzang.github.io\/2020\/an-attribute-based-distributed-access-control-for-blockchain-enabled-iot\/","datePublished":"2020-04-22T00:00:00\x2b00:00","dateModified":"2020-04-22T00:00:00\x2b00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"shuzang","logo":{"@type":"ImageObject","url":"https:\/\/shuzang.github.io\/logo.png","width":127,"height":40}},"description":""}</script><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/css/lib/fontawesome-free/all.min.css></head><body><script>window.isDark=(window.localStorage&&window.localStorage.getItem('theme'))==='dark';window.isDark&&document.body.classList.add('dark-theme');</script><div class=wrapper><nav class=navbar><div class=top-scroll-bar></div><div class=navbar-container><div class="navbar-header animated bounceIn"><a href=https://shuzang.github.io>Shuzang's Blog</a></div><div class=navbar-menu><a class=menu-item href=https://shuzang.github.io/posts>Posts</a><a class=menu-item href=https://shuzang.github.io/tags>Tags</a><a class=menu-item href=https://shuzang.github.io/categories>Categories</a><a class=menu-item href=https://shuzang.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><nav class=navbar-mobile><div class=top-scroll-bar></div><div class=navbar-container><div class=navbar-header><div class="navbar-header-title animated bounceIn"><a href=https://shuzang.github.io>Shuzang's Blog</a></div><div class=menu-toggle id=menu-toggle><span></span><span></span><span></span></div></div><div class=navbar-menu id=mobile-menu><a class=menu-item href=https://shuzang.github.io/posts>Posts</a><a class=menu-item href=https://shuzang.github.io/tags>Tags</a><a class=menu-item href=https://shuzang.github.io/categories>Categories</a><a class=menu-item href=https://shuzang.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><main class=main><div class=container><article class=page><h1 class="post-title animated flipInX">An Attribute-Based Distributed Access Control for Blockchain-enabled IoT</h1><div class=post-meta><i class="far fa-calendar-alt fa-fw"></i>published on&nbsp;<time datetime=2020-04-22>2020-04-22</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>about 2877 words&nbsp;<span class=post-category><i class="far fa-folder fa-fw"></i>included in&nbsp;<a href=https://shuzang.github.io/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/>研究生的区块链学习之路</a>&nbsp;</span></div><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#1-系统架构>1. 系统架构</a></li><li><a href=#2-访问控制架构>2. 访问控制架构</a><ul><li><a href=#21-subject-contract>2.1 Subject Contract</a></li><li><a href=#22-object-contract>2.2 Object Contract</a></li><li><a href=#23-policy-contract>2.3 Policy Contract</a></li><li><a href=#24-access-control-contract>2.4 Access Control Contract</a></li></ul></li><li><a href=#3-总结与收获>3. 总结与收获</a></li></ul></nav></div></div><div class=post-toc-mobile id=post-toc-mobile><details><summary><div class=post-toc-title><span>Contents</span>
<span><i class="details icon fas fa-angle-down"></i></span></div></summary><div class=post-toc-content><nav id=TableOfContentsMobile><ul><li><a href=#1-系统架构>1. 系统架构</a></li><li><a href=#2-访问控制架构>2. 访问控制架构</a><ul><li><a href=#21-subject-contract>2.1 Subject Contract</a></li><li><a href=#22-object-contract>2.2 Object Contract</a></li><li><a href=#23-policy-contract>2.3 Policy Contract</a></li><li><a href=#24-access-control-contract>2.4 Access Control Contract</a></li></ul></li><li><a href=#3-总结与收获>3. 总结与收获</a></li></ul></nav></div></details></div><div class=post-content><p>P. Wang, Y. Yue, W. Sun, and J. Liu, “An Attribute-Based Distributed Access Control for Blockchain-enabled IoT,” in <em>2019 International Conference on Wireless and Mobile Computing, Networking and Communications (WiMob)</em>, Barcelona, Spain, Oct. 2019, pp. 1–6, doi: <a href=https://doi.org/10.1109/WiMOB.2019.8923232 target=_blank>10.1109/WiMOB.2019.8923232</a>.</p><a class=post-dummy-target id=fnref:1></a><p>第一作者是西电的，国家自然科学基金项目成果，研究方向完全一致，都是利用智能合约实现 ABAC 模型完成物联网访问控制。可以看的出来，这篇论文也深受 Zhang<sup><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> 的影响，参考的文献全都看过，由于方向一致，这是必然的事情。因此，这里记的笔记不包括引言、相关工作、实验等部分，仅仅理解和阐述作者的架构描述，并分析其优缺点，将优点吸纳到我们当前的方案。</p><a class=post-dummy-target id=1-系统架构></a><h2>1. 系统架构</h2><p>用来说明方案的 IoT 场景是 smart home，如下图所示。作者将设备分为三类</p><ol><li>有足够计算和存储能力的节点，比如 server 和 desktop，这部分作为区块链全节点；</li><li>只有有限的计算和存储能力，比如 mobile phone 和 smart TV，这部分作为轻节点；</li><li>计算和存储能力高度有限，比如传感器，这些设备称为超轻量级节点，由所连接的网关作为代理。</li></ol><p><figure><img src=/svg/loading.min.svg data-sizes=auto data-src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/8913409/8923119/8923232/wang1-p6-wang-small.gif alt class=lazyload></figure></p><p>Server 负责存储 IoT 设备产生的数据，包括传感器收集的环境信息、运行过程产生的日志文件，同时向设备提供服务，因此也会发送一些命令到设备从而控制设备的执行。全节点或轻节点通过有线或 Wi-Fi 连到网络，维持区块链的运行，保存所有或部分访问控制信息，执行访问控制。超轻量级节点通过 Bluetooth、Wi-Fi、ZigBee 等技术连到网关，从而连到网络，不存储访问控制信息，只通过网关发起访问控制请求或获取访问控制结果。</p><a class=post-dummy-target id=2-访问控制架构></a><h2>2. 访问控制架构</h2><p>核心是 ABAC 模型，如下图所示，收到访问控制请求后根据主体属性（Subject Attribute, SA）、客体属性（Object Attribute, OA）和环境属性（Environment Attribute, EA）执行预定义的策略，从而得到结果。</p><p><figure><img src=/svg/loading.min.svg data-sizes=auto data-src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/8913409/8923119/8923232/wang2-p6-wang-small.gif alt class=lazyload></figure></p><p>作者使用了一个 Subject Contract（SC）、一个 Object Contract（OC）、一个 Access Control Contract（ACC）和多个 Policy Contracts（PC）来实现该模型，各部分介绍如下。</p><a class=post-dummy-target id=21-subject-contract></a><h3>2.1 Subject Contract</h3><p>由于设备可以作为 subject 发起访问，也可以作为 object 提供资源，subject 访问不同的 object 时属性还有可能不同，作者将主体属性划分为两部分：</p><ol><li>Manufacturer Attribute（MA）：由制造商在出厂时设置的属性，无法二次修改，主要包括一些设备的基本信息，比如 MAC 地址和序列号。</li><li>Setting by Object Attribute（SOA）：如果设备 o 作为 object 设置了针对 subject s 的 SOA，意味着该属性只在 s 访问 o 时生效，其它 subject 访问 o 不生效。</li></ol><p>SC 负责管理合法制造商的账户、IoT 设备账户和设备的主体属性信息，属性以键值对的形式定义，如下所示
$$
[name_1:value_1] [name_2:value_2] …… [name_n:value_n]
$$
一个 MA 的示例为 $[type:remotecontrol][mac:00efefefefef]$，</p><p>一个 SOA 的示例为 $[group:owner][role:children]$</p><p>SC 提供了如下功能</p><ol><li>addmanufacturer()：只能由 SC 所有者调用，传入制造商账户地址，将该地址代表的制造商加如合法制造商列表</li><li>addsubject()：只能由合法制造商列表中的成员调用，负责注册新的 IoT 设备</li><li>addobattr()：由 object 调用，设置针对某个 subject 的 SOA，接收设备地址和一个描述属性的字符串</li><li>delemanufacturer()，deleteobattr()：如函数名</li></ol><a class=post-dummy-target id=22-object-contract></a><h3>2.2 Object Contract</h3><p>OC 负责管理每个设备的 object attributes（OA），和主题属性的结构定义相同，一个 OA 示例为$[type:TV][location:living]$。OC 提供的函数功能有：</p><ol><li>addobattr()：接收设备地址和一个描述属性的字符串，设置客体属性</li><li>deleteobattr()：接收设备地址，删除对应的属性</li><li>getattr()：接收设备地址，获取对应的属性</li></ol><a class=post-dummy-target id=23-policy-contract></a><h3>2.3 Policy Contract</h3><p>每个用户创建自己的 PC，并在 ACC 中和用户的设备进行绑定，因此，一个 PC 可能对应多个 IoT 设备，但只有一个所有者且只有所有者可以添加或删除策略。</p><p><strong><ruby>策略<rt>policy</rt></ruby></strong> 和 <strong><ruby>规则<rt>rule</rt></ruby></strong> 在 PC 中是不同的，策略由如下五个字段定义
$$
resource, action,duty,rule,algorithm
$$
其中，$duty$ 是实施完访问控制需要做的事；一个策略可能包含多个规则，一个 $rule$ 由 $SA,OA,EA,resource,action,result$ 六部分组成；$algorithm$ 用来在规则产生矛盾时进行判定；返回的结果有两种：$allow$ 和 $deny$。一个示例为</p><blockquote><p>policy: [resource:switch] [action:on] [duty:record] [algorithm:denyoverrides]</p><p>rule1:</p><p>​ subject attribute: [group:owner] [role:parent] [type:remotecontrol]</p><p>​ object attribute: [type:TV] [location:livingroom]</p><p>​ environment attribute: [time: 21:00 - 23:00]</p><p>​ result: allow</p></blockquote><p>PC 提供如下函数功能：</p><ol><li>addpolicy()：添加新策略到用户策略集，接收四个参数：resource, action, duty 和 algorithm</li><li>addrule()：添加新规则到策略，接收六个参数：SA, OA, EA, resource, action 和 result，通过资源和操作，可以找到相应的策略并将规则添加到规则列表</li><li>delepolicy()，delerule()：如函数名</li></ol><a class=post-dummy-target id=24-access-control-contract></a><h3>2.4 Access Control Contract</h3><p>ACC 用来确定请求是否符合用户自定义的策略，最终会返回相应的结果并执行预定的 $duty$，如记录访问历史到区块链等，历史记录结构示例如下</p><p><figure><img src=/svg/loading.min.svg data-sizes=auto data-src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/8913409/8923119/8923232/wang.t1-p6-wang-small.gif alt class=lazyload></figure></p><p>PC 提供的函数功能如下</p><ol><li><p>Initialization()：为了和 SC，OC 交互，记录它们的合约地址</p></li><li><p>setobjectpolicyaddress()：负责将 PC 地址绑定到 IoT 设备地址，接收这两个地址作为参数</p></li><li><p>accesscontrol()：执行访问控制，接收 subject address、object address 、resource 、action 四个参数，与其它几个合约交互获取相应的属性信息和策略信息，然后根据策略中每个规则进行判决并记录，如果满足规则，获取 $allow$ 或 $deny$ 两个结果之一，如果不满足，返回 $NotAplicable$，最后利用 $algorithm$ 处理冲突得到最终结果。如果设置了 $duty$ 字段，那么执行该字段描述的任务。该函数的算法伪代码如下</p><p><figure><img src=/svg/loading.min.svg data-sizes=auto data-src=https://ieeexplore.ieee.org/mediastore_new/IEEE/content/media/8913409/8923119/8923232/wang.al1-p6-wang-large.gif alt class=lazyload></figure></p></li></ol><a class=post-dummy-target id=3-总结与收获></a><h2>3. 总结与收获</h2><p>这篇论文基本可以看作传统的 XACML 的架构使用智能合约的实现，比如 SC 和 OC 用来维护属性信息，相当于策略信息点（PIP）；PC 维护策略信息，相当于策略管理点（PAP），ACC接收并执行访问控制策略，相当于策略实施点（PEP）和策略决策点（PDP）的结合。这种结构将各部分功能进行了良好的划分，确保了低内聚高耦合，所以现在应该去深入理解一下传统 ABAC 模型，了解其缺点后，再讨论是像这篇论文这一原样实现还是做一些改变。</p><a class=post-dummy-target id=fnref:2></a><p>在 Ouaddah 的论文中评价了 ABAC 模型的优劣<sup><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>。他认为 ABAC 模型的优点是较好的互操作性和细粒度的访问控制，缺点是较为复杂和非用户驱动，这里介绍一下两个缺点：</p><ol><li><strong>Complexity</strong>：属性语义的诠释，属性的可信度，表达基于属性的授权请求和响应的语法定义，这些都是导致 ABAC 复杂的原因。另外，XACML 的复杂性常导致用户避免使用它转而使用更传统的方法。这种复杂性还阻碍了它在日常场景中的应用，例如，可穿戴娱乐物联网应用领域。只有在需要高度互操作性和细粒度表达的应用中才适合使用这种模型。</li><li><strong>Not User-driven</strong>：尽管 XACML 和 ABAC 是完善而精确的策略描述方法，XACML 策略的结构是复杂的。用户必须深入理解 XACML 才能熟练地写下详细地策略，这使得 XACML 难以掌握和使用。这种方式地隐私管理不支持以<strong><ruby>本机方式<rt>native way</rt></ruby></strong>与用户交互，为了让用户参与策略制定过程，需要一个用户驱动的隐私管理器。</li></ol><p>可以思考如何在区块链中改善这两者。</p><section class=footnotes role=doc-endnotes><hr><ol><li role=doc-endnote><p><a class=post-dummy-target id=fn:1></a>Y. Zhang, S. Kasahara, Y. Shen, X. Jiang, and J. Wan, “Smart contractbased access control for the internet of things,” IEEE Internet of Things Journal, vol. 6, no. 2, pp. 1594–1605, 2019. <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li role=doc-endnote><p><a class=post-dummy-target id=fn:2></a>A. Ouaddah, H. Mousannif, A. A. Elkalam, and A. A. Ouahman, “Access control in The Internet of Things: Big challenges and new opportunities,” <em>Computer Networks</em>, vol. 112, pp. 237–262, 2016. <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><div class=post-copyright id=post-footer><p class=copyright-item><span>Author:&nbsp;</span>
<span>shuzang</span></p><p class=copyright-item><span>Updated on:&nbsp;</span>
<span>2020-04-22</span></p><p class=copyright-item><span>Share on:&nbsp;</span>
<span><a href="//twitter.com/share?url=https%3a%2f%2fshuzang.github.io%2f2020%2fan-attribute-based-distributed-access-control-for-blockchain-enabled-iot%2f&text=An%20Attribute-Based%20Distributed%20Access%20Control%20for%20Blockchain-enabled%20IoT&via=" target=_blank title="Share on Twitter"><i class="fab fa-twitter fa-fw"></i></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fshuzang.github.io%2f2020%2fan-attribute-based-distributed-access-control-for-blockchain-enabled-iot%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook-square fa-fw"></i></a><a href="//reddit.com/submit?url=https%3a%2f%2fshuzang.github.io%2f2020%2fan-attribute-based-distributed-access-control-for-blockchain-enabled-iot%2f&title=An%20Attribute-Based%20Distributed%20Access%20Control%20for%20Blockchain-enabled%20IoT" target=_blank title="Share on Reddit"><i class="fab fa-reddit fa-fw"></i></a></span></p><p class=copyright-item></p><p class=copyright-item></p></div><br><div class=post-info-more><section><span class=tag><a href=https://shuzang.github.io/tags/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/><i class="fas fa-tag fa-fw"></i>&nbsp;论文笔记</a>&nbsp;</span></section><section><span><a href=javascript:window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=https://shuzang.github.io>Home</a></span></section></div><div class=post-nav><a href=https://shuzang.github.io/2020/attribute-based-access-control/ class=prev rel=prev title="Attribute-Based Access Control"><i class="fas fa-angle-left fa-fw"></i>Attribute-Based Access Control</a>
<a href=https://shuzang.github.io/2020/using-docker-installation-to-run-mysql/ class=next rel=next title="Docker-使用 Docker 安装运行 mysql">Docker-使用 Docker 安装运行 mysql<i class="fas fa-angle-right fa-fw"></i></a></div><div class=post-comment></div></article></div></main><footer class=footer><div class=copyright><div class=copyright-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://shuzang.github.io/about/ target=_blank>shuzang</a> | </span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreffer">Hugo</a> & <a href=https://github.com/dillonzq/LoveIt target=_blank rel="external nofollow noopener noreffer">LoveIt</a></div></div></footer></div><a href=# class=dynamic-to-top id=dynamic-to-top data-scroll><span>&nbsp;</span></a>
<script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-209130979-1','auto');ga('set','anonymizeIp',true);ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=/js/lib/jquery/jquery.slim.min.js></script><script src=/js/lib/lazysizes/lazysizes.min.js></script><script src=/js/lib/smooth-scroll/smooth-scroll.polyfills.min.js></script><script>window.scroll=new SmoothScroll('[data-scroll]',{speed:300,speedAsDuration:true});</script><link rel=stylesheet href=/css/lib/katex/katex.min.css><script src=/js/lib/katex/katex.min.js></script><script defer src=/js/lib/katex/auto-render.min.js></script><link rel=stylesheet href=/css/lib/katex/copy-tex.min.css><script defer src=/js/lib/katex/copy-tex.min.js></script><script defer src=/js/lib/katex/mhchem.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:true},{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true},{left:"$",right:"$",display:false},]});});</script><script src=/js/blog.min.js></script></body></html>