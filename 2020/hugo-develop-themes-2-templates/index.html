<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>hugo开发主题2-模板 | Shuzang's Blog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=Description content="书藏的个人博客，包括Golang、数据结构、算法的学习记录，各类生活技能的学习，每周五发布一期自己的生活周刊"><link rel=prev href=https://shuzang.github.io/2020/basic-concepts-of-photography/><link rel=next href=https://shuzang.github.io/2020/hugo-develop-themes-1-content-management/><link rel=canonical href=https://shuzang.github.io/2020/hugo-develop-themes-2-templates/><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary"><meta name=twitter:title content="hugo开发主题2-模板"><meta name=twitter:description content="Hugo 用到最后，终究还是免不了走上自己修改甚至开发主题的道路，本篇介绍 Hugo 的核心之一：模板。"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"hugo开发主题2-模板","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/2020\/hugo-develop-themes-2-templates\/"},"image":{"@type":"ImageObject","url":"https:\/\/shuzang.github.io\/cover.png","width":800,"height":600},"genre":"posts","keywords":"Hugo","wordcount":2484,"url":"https:\/\/shuzang.github.io\/2020\/hugo-develop-themes-2-templates\/","datePublished":"2020-11-11T00:00:00\x2b00:00","dateModified":"2020-11-11T00:00:00\x2b00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"shuzang","logo":{"@type":"ImageObject","url":"https:\/\/shuzang.github.io\/logo.png","width":127,"height":40}},"description":""}</script><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/css/lib/fontawesome-free/all.min.css></head><body><script>window.isDark=(window.localStorage&&window.localStorage.getItem('theme'))==='dark';window.isDark&&document.body.classList.add('dark-theme');</script><div class=wrapper><nav class=navbar><div class=top-scroll-bar></div><div class=navbar-container><div class="navbar-header animated bounceIn"><a href=https://shuzang.github.io>Shuzang's Blog</a></div><div class=navbar-menu><a class=menu-item href=https://shuzang.github.io/posts>Posts</a><a class=menu-item href=https://shuzang.github.io/tags>Tags</a><a class=menu-item href=https://shuzang.github.io/categories>Categories</a><a class=menu-item href=https://shuzang.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><nav class=navbar-mobile><div class=top-scroll-bar></div><div class=navbar-container><div class=navbar-header><div class="navbar-header-title animated bounceIn"><a href=https://shuzang.github.io>Shuzang's Blog</a></div><div class=menu-toggle id=menu-toggle><span></span><span></span><span></span></div></div><div class=navbar-menu id=mobile-menu><a class=menu-item href=https://shuzang.github.io/posts>Posts</a><a class=menu-item href=https://shuzang.github.io/tags>Tags</a><a class=menu-item href=https://shuzang.github.io/categories>Categories</a><a class=menu-item href=https://shuzang.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><main class=main><div class=container><article class=page><h1 class="post-title animated flipInX">hugo开发主题2-模板</h1><div class=post-meta><i class="far fa-calendar-alt fa-fw"></i>published on&nbsp;<time datetime=2020-11-11>2020-11-11</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>about 2484 words&nbsp;<span class=post-category><i class="far fa-folder fa-fw"></i>included in&nbsp;<a href=https://shuzang.github.io/categories/%E7%88%B1%E7%BC%96%E7%A8%8B%E7%88%B1%E6%8A%80%E6%9C%AF%E7%9A%84%E5%AD%A9%E5%AD%90/>爱编程爱技术的孩子</a>&nbsp;</span></div><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#1-基本介绍>1. 基本介绍</a></li><li><a href=#2-页面查找顺序>2. 页面查找顺序</a><ul><li><ul><li><a href=#home-page>home page</a></li><li><a href=#section-page>section page</a></li><li><a href=#taxonomy-page>taxonomy page</a></li><li><a href=#single-page>single page</a></li></ul></li></ul></li></ul></nav></div></div><div class=post-toc-mobile id=post-toc-mobile><details><summary><div class=post-toc-title><span>Contents</span>
<span><i class="details icon fas fa-angle-down"></i></span></div></summary><div class=post-toc-content><nav id=TableOfContentsMobile><ul><li><a href=#1-基本介绍>1. 基本介绍</a></li><li><a href=#2-页面查找顺序>2. 页面查找顺序</a><ul><li><ul><li><a href=#home-page>home page</a></li><li><a href=#section-page>section page</a></li><li><a href=#taxonomy-page>taxonomy page</a></li><li><a href=#single-page>single page</a></li></ul></li></ul></li></ul></nav></div></details></div><div class=post-content><p>Hugo 用到最后，终究还是免不了走上自己修改甚至开发主题的道路，本篇介绍 Hugo 的核心之一：模板。</p><a class=post-dummy-target id=1-基本介绍></a><h2>1. 基本介绍</h2><p>模板指的是 HTML 的模板，是将 HTML 中的一些内容抽象为变量，在页面渲染时才进行替换的一种方法，如果学过 Go，会比较容易理解，因为 Hugo 的模板正式以 Go 的 <code>html/template</code> 和 <code>text/template</code> 两个库为基础的。</p><p>简而言之，Hugo 中提到模板就是提到 HTML，写模板就是写 HTML。</p><p>Hugo 主题中 HTML 的入口文件为 <code>_default/baseof.html</code>，这是所有页面渲染时的默认模板，除非你指定了在查找顺序上具有更高优先级的 <code>baseof.html</code> 文件。</p><p><em>注：查找顺序将在第 2 节介绍。</em></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=c>&lt;!--</span><span class=c> layouts/_default/baseof.html </span><span class=c>--&gt;</span>

<span class=cp>&lt;!DOCTYPE html&gt;</span>
<span class=p>&lt;</span><span class=nt>html</span><span class=p></span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>head</span><span class=p></span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span><span class=p></span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>title</span><span class=p></span><span class=p>&gt;</span>
        {{ block &#34;title&#34; . }}
            <span class=c>&lt;!--</span><span class=c> Blocks may include default content. </span><span class=c>--&gt;</span>
            {{ .Site.Title }}
    	{{ end }}
    <span class=p>&lt;</span><span class=p>/</span><span class=nt>title</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=p>/</span><span class=nt>head</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>body</span><span class=p></span><span class=p>&gt;</span>
    <span class=c>&lt;!--</span><span class=c> Code that all your templates share, like a header </span><span class=c>--&gt;</span>
    {{ block &#34;main&#34; . }}
      <span class=c>&lt;!--</span><span class=c> The part of the page that begins to differ between templates </span><span class=c>--&gt;</span>
    {{ end }}
    {{ block &#34;footer&#34; . }}
    <span class=c>&lt;!--</span><span class=c> More shared code, perhaps a footer but that can be overridden if need be in  </span><span class=c>--&gt;</span>
    {{ end }}
  <span class=p>&lt;</span><span class=p>/</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=p>/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></td></tr></table></div></div><p>上面的代码与普通 HTML 代码的区别就是以双大括号 <code>{{ }}</code> 包围的区域，这就是模板的写法。以 <code>{{ .Site.Title }}</code> 为例，在渲染时会用主题配置文件 <code>config.toml</code> 中定义的 <code>title</code> 字段替换，是不是就像被抽象而出的变量?</p><p><code>{{ block "title" }}</code> 是一种更大的抽象范围：代码块，我们会在其它的 HTML 文件中定义这段代码块，然后在渲染时替换这一部分内容，比如，我们在 <code>layouts/_default/list.html</code> 中定义了 <code>title</code> 和 <code>main</code> 代码块如下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html>{{ define &#34;title&#34; }}
  <span class=c>&lt;!--</span><span class=c> This will override the default value set in baseof.html; i.e., &#34;{{.Site.Title}}&#34; in the original example</span><span class=c>--&gt;</span>
  {{ .Title }} <span class=ni>&amp;ndash;</span> {{ .Site.Title }}
{{ end }}

{{ define &#34;main&#34; }}
  <span class=p>&lt;</span><span class=nt>h1</span><span class=p></span><span class=p>&gt;</span>{{ .Title }}<span class=p>&lt;</span><span class=p>/</span><span class=nt>h1</span><span class=p>&gt;</span>
  {{ .Content }}
{{ end }}
</code></pre></td></tr></table></div></div><p>渲染时会替换掉 <code>baseof.html</code> 文件中如下内容，注意，额外定义的这部分代码要以 <code>{{ block “title”}}</code> 开始，指明替换哪一段 block，所有的模板语法代码段都要以 <code>{{ end }}</code> 结束。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html>{{ block &#34;title&#34; . }}
    <span class=c>&lt;!--</span><span class=c> Blocks may include default content. </span><span class=c>--&gt;</span>
    {{ .Site.Title }}
{{ end }}
</code></pre></td></tr></table></div></div><p>实际的操作是 <code>list.html</code> 从 <code>baseof.html</code> 继承所有代码，然后用自己定义的 <code>title</code> 和 <code>main</code> 代码段替换相关内容，是在 <code>list.html</code> 中操作的，不是在 <code>baseof.html</code> 中操作的。</p><a class=post-dummy-target id=2-页面查找顺序></a><h2>2. 页面查找顺序</h2><p>Hugo 主题所有的 HTML 文件都位于主题目录下 <code>layouts</code> 目录中，我们所看到的博客的每个页面的渲染，都要首先从这里选择一个 HTML 文件作为模板，页面查找顺序指的是渲染页面时在 <code>layouts</code> 目录下的查找顺序。比如，Home Page 首先在 <code>layouts</code> 根目录下查找 <code>index.html</code> 文件，如果找不到，查找 <code>home.html</code> 文件或 <code>list.html</code> 文件，如果依然找不到，在 <code>layouts/_default</code> 目录下查找这三个文件。</p><p>与查找顺序相关的，除了上例提到的文件夹的不同，还和页面类型（Kind）、输出格式（Output Format）、语言（Language）等有关，我们主要关注的是<strong>页面类型 Kind</strong>。</p><p>页面类型有两种：single page 和 list page。前者用于单个页面渲染，后者用于在单个页面中渲染多个内容，举个例子，一个归档页面通常包含数十篇文章，这就属于 list page。其中，regular page 属于前者，section page、home page、taxonomy list page、taxonomy term page 属于后者。下面进行一一介绍。</p><p><em>注：home page 是个例外，它虽然属于 list page，但有自己的专用模板。</em></p><a class=post-dummy-target id=home-page></a><h4>home page</h4><p>网站首页通常和其它页面不同，因此有自己的专用模板，而且当网站只有一个页面时，home page 是唯一需要的文件。</p><p>home page 可以读取 <code>config.toml</code> 中定义的网站全局变量，也可以读取 <code>content/_index.md</code> 中的元数据（通常以 yaml/toml 格式定义在开头，称为 front matter）。</p><p>一些重要的文件查找顺序如下，其中 Home page 是主页面，Base template for home page 是主页面继承的模板，RSS home 是主页面的 RSS 文件。</p><table><thead><tr><th align=left>Example</th><th align=left>OutputFormat</th><th align=left>Suffix</th><th align=left>Template Lookup Order</th></tr></thead><tbody><tr><td align=left>Home page</td><td align=left>HTML</td><td align=left>html</td><td align=left>layouts/index.html<br>layouts/home.html<br>layouts/list.html<br>layouts/_default/index.html<br>layouts/_default/home.html<br>layouts/_default/list.html</td></tr><tr><td align=left>Base template for home page</td><td align=left>HTML</td><td align=left>html</td><td align=left>layouts/index-baseof.html<br>layouts/home-baseof.html<br>layouts/list-baseof.html<br>layouts/baseof.html<br>layouts/_default/index-baseof.html<br>layouts/_default/home-baseof.html<br>layouts/_default/list-baseof.html<br>layouts/_default/baseof.html</td></tr><tr><td align=left>RSS home</td><td align=left>RSS</td><td align=left>xml</td><td align=left>layouts/index.xml<br>layouts/home.xml<br>layouts/list.xml<br>layouts/_default/index.xml<br>layouts/_default/home.xml<br>layouts/_default/list.xml</td></tr></tbody></table><p>我们重点介绍一下 Base template for home page，在 Home page 中，定义的是一段代码块，正如我们在第一节中所述，它需要先继承一个 HTML 文件的结构，然后替换其中使用 <code>{{ block "name" }}</code> 定义的部分，这里所继承的文件就是 Base template for home page。下面是一个例子</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=c>&lt;!--</span><span class=c> layouts/index.html </span><span class=c>--&gt;</span>
{{ define &#34;main&#34; }}
    <span class=p>&lt;</span><span class=nt>main</span> <span class=na>aria-role</span><span class=o>=</span><span class=s>&#34;main&#34;</span><span class=p></span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>header</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;homepage-header&#34;</span><span class=p></span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>h1</span><span class=p></span><span class=p>&gt;</span>{{.Title}}<span class=p>&lt;</span><span class=p>/</span><span class=nt>h1</span><span class=p>&gt;</span>
        {{ with .Params.subtitle }}
        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;subtitle&#34;</span><span class=p></span><span class=p>&gt;</span>{{.}}<span class=p>&lt;</span><span class=p>/</span><span class=nt>span</span><span class=p>&gt;</span>
        {{ end }}
      <span class=p>&lt;</span><span class=p>/</span><span class=nt>header</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;homepage-content&#34;</span><span class=p></span><span class=p>&gt;</span>
        <span class=c>&lt;!--</span><span class=c> Note that the content for index.html, as a sort of list page, will pull from content/_index.md </span><span class=c>--&gt;</span>
        {{.Content}}
      <span class=p>&lt;</span><span class=p>/</span><span class=nt>div</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>div</span><span class=p></span><span class=p>&gt;</span>
        {{ range first 10 .Site.RegularPages }}
            {{ .Render &#34;summary&#34;}}
        {{ end }}
      <span class=p>&lt;</span><span class=p>/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=p>/</span><span class=nt>main</span><span class=p>&gt;</span>
{{ end }}
</code></pre></td></tr></table></div></div><a class=post-dummy-target id=section-page></a><h4>section page</h4><p>section 是一组页面的集合，默认的，<code>content</code> 目录下每个一级目录都是一个 section，更深层次的目录，如果想成为 section，需要建立 _index.md 文件。一个例子如下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>content
└── blog        &lt;-- Section, because first-level dir under content/
    ├── funny-cats
    │   ├── mypost.md
    │   └── kittens         &lt;-- Section, because contains _index.md
    │       └── _index.md
    └── tech                &lt;-- Section, because contains _index.md
        └── _index.md
</code></pre></td></tr></table></div></div><p>section page 就是用来渲染 section 的模板，可以访问 section 中的所有内容和 front matter，其查找顺序如下</p><table><thead><tr><th align=left>Example</th><th align=left>OutputFormat</th><th align=left>Suffix</th><th align=left>Template Lookup Order</th></tr></thead><tbody><tr><td align=left>Section list for &ldquo;posts&rdquo; section</td><td align=left>HTML</td><td align=left>html</td><td align=left>layouts/posts/posts.html<br>layouts/posts/section.html<br>layouts/posts/list.html<br>layouts/section/posts.html<br>layouts/section/section.html<br>layouts/section/list.html<br>layouts/_default/posts.html<br>layouts/_default/section.html<br>layouts/_default/list.html</td></tr></tbody></table><p>下面是一个 section page 的例子</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=c>&lt;!--</span><span class=c> layouts/_default/section.html </span><span class=c>--&gt;</span>
{{ define &#34;main&#34; }}
  <span class=p>&lt;</span><span class=nt>main</span><span class=p></span><span class=p>&gt;</span>
      {{ .Content }}
          <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;contents&#34;</span><span class=p></span><span class=p>&gt;</span>
          {{ range .Paginator.Pages }}
              <span class=p>&lt;</span><span class=nt>li</span><span class=p></span><span class=p>&gt;</span>{{.Title}}
                  <span class=p>&lt;</span><span class=nt>div</span><span class=p></span><span class=p>&gt;</span>
                    {{ partial &#34;summary.html&#34; . }}
                  <span class=p>&lt;</span><span class=p>/</span><span class=nt>div</span><span class=p>&gt;</span>
              <span class=p>&lt;</span><span class=p>/</span><span class=nt>li</span><span class=p>&gt;</span>
          {{ end }}
          <span class=p>&lt;</span><span class=p>/</span><span class=nt>ul</span><span class=p>&gt;</span>
      {{ partial &#34;pagination.html&#34; . }}
  <span class=p>&lt;</span><span class=p>/</span><span class=nt>main</span><span class=p>&gt;</span>
{{ end }}
</code></pre></td></tr></table></div></div><p><code>.Site.GetPage</code> 函数可以用来获取一组给定类型的页面，假设 content 目录结构如下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>.
└── content
    ├── blog
    │   ├── _index.md <span class=c1># &#34;title: My Hugo Blog&#34; in the front matter</span>
    │   ├── post-1.md
    │   ├── post-2.md
    │   └── post-3.md
    └── events <span class=c1>#Note there is no _index.md file in &#34;events&#34;</span>
        ├── event-1.md
        └── event-2.md
</code></pre></td></tr></table></div></div><p>输出 blog section 的 title 可以使用如下语句</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=p>&lt;</span><span class=nt>h1</span><span class=p></span><span class=p>&gt;</span>{{ with .Site.GetPage &#34;section&#34; &#34;blog&#34; }}{{ .Title }}{{ end }}<span class=p>&lt;</span><span class=p>/</span><span class=nt>h1</span><span class=p>&gt;</span>
<span class=c>&lt;!--</span><span class=c> 输出如下 </span><span class=c>--&gt;</span>
<span class=p>&lt;</span><span class=nt>h1</span><span class=p></span><span class=p>&gt;</span>My Hugo Blog<span class=p>&lt;</span><span class=p>/</span><span class=nt>h1</span><span class=p>&gt;</span>
</code></pre></td></tr></table></div></div><p>如果是 event section，因为没有 _index.md 文件，会输出文件名</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=p>&lt;</span><span class=nt>h1</span><span class=p></span><span class=p>&gt;</span>{{ with .Site.GetPage &#34;section&#34; &#34;events&#34; }}{{ .Title }}{{ end }}<span class=p>&lt;</span><span class=p>/</span><span class=nt>h1</span><span class=p>&gt;</span>
<span class=c>&lt;!--</span><span class=c> 输出如下 </span><span class=c>--&gt;</span>
<span class=p>&lt;</span><span class=nt>h1</span><span class=p></span><span class=p>&gt;</span>Events<span class=p>&lt;</span><span class=p>/</span><span class=nt>h1</span><span class=p>&gt;</span>
</code></pre></td></tr></table></div></div><a class=post-dummy-target id=taxonomy-page></a><h4>taxonomy page</h4><p>包括 taxonomy list pages 和 taxonomy terms pages，用于用户自定义的内容分组，比如分类和标签页面，展示了文章间的一种逻辑关系。下面解释几个术语</p><ul><li>Taxonomy：对内容进行分类的字段</li><li>Term：分类的键</li><li>Value：分类的值，就是内容</li></ul><p>举个例子，<code>演员</code> 是 Taxonomy，<code>克里斯·埃文斯</code> 是 Term，<code>《美国队长》</code> 是 Value，如果按 Taxonomy 组织页面，就是 taxonomy list pages，如果按 Term 组织页面，就是 taxonomy terms pages，如果是显示单个内容，那么使用 single page。页面的查找顺序如下</p><table><thead><tr><th align=left>Example</th><th align=left>OutputFormat</th><th align=left>Suffix</th><th align=left>Template Lookup Order</th></tr></thead><tbody><tr><td align=left>Taxonomy list in categories</td><td align=left>HTML</td><td align=left>html</td><td align=left>layouts/categories/terms.html<br>layouts/categories/taxonomy.html<br>layouts/categories/list.html<br>layouts/category/terms.html<br>layouts/category/taxonomy.html<br>layouts/category/list.html<br>layouts/taxonomy/terms.html<br>layouts/taxonomy/taxonomy.html<br>layouts/taxonomy/list.html<br>layouts/_default/terms.html<br>layouts/_default/taxonomy.html<br>layouts/_default/list.html</td></tr><tr><td align=left>Taxonomy term in categories</td><td align=left>HTML</td><td align=left>html</td><td align=left>layouts/categories/term.html<br>layouts/categories/category.html<br>layouts/categories/taxonomy.html<br>layouts/categories/list.html<br>layouts/term/term.html<br>layouts/term/category.html<br>layouts/term/taxonomy.html<br>layouts/term/list.html<br>layouts/taxonomy/term.html<br>layouts/taxonomy/category.html<br>layouts/taxonomy/taxonomy.html<br>layouts/taxonomy/list.html<br>layouts/category/term.html<br>layouts/category/category.html<br>layouts/category/taxonomy.html<br>layouts/category/list.html<br>layouts/_default/term.html<br>layouts/_default/category.html<br>layouts/_default/taxonomy.html<br>layouts/_default/list.html</td></tr></tbody></table><a class=post-dummy-target id=single-page></a><h4>single page</h4><p>single page 是 Hugo 最主要的一个模板，用来渲染每一篇 Markdown 文章。页面的查找顺序如下</p><table><thead><tr><th align=left>Example</th><th align=left>OutputFormat</th><th align=left>Suffix</th><th align=left>Template Lookup Order</th></tr></thead><tbody><tr><td align=left>Single page in &ldquo;posts&rdquo; section</td><td align=left>HTML</td><td align=left>html</td><td align=left>layouts/posts/single.html<br>layouts/_default/single.html</td></tr><tr><td align=left>Base template for single page in &ldquo;posts&rdquo; section</td><td align=left>HTML</td><td align=left>html</td><td align=left>layouts/posts/single-baseof.html<br>layouts/posts/baseof.html<br>layouts/_default/single-baseof.html<br>layouts/_default/baseof.html</td></tr></tbody></table><p>一个 single page 的示例如下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-html data-lang=html><span class=c>&lt;!--</span><span class=c> layouts/posts/single.html </span><span class=c>--&gt;</span>
{{ define &#34;main&#34; }}
<span class=p>&lt;</span><span class=nt>section</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;main&#34;</span><span class=p></span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>h1</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;title&#34;</span><span class=p></span><span class=p>&gt;</span>{{ .Title }}<span class=p>&lt;</span><span class=p>/</span><span class=nt>h1</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>div</span><span class=p></span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>article</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;content&#34;</span><span class=p></span><span class=p>&gt;</span>
           {{ .Content }}
        <span class=p>&lt;</span><span class=p>/</span><span class=nt>article</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=p>/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=p>/</span><span class=nt>section</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>aside</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;meta&#34;</span><span class=p></span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span><span class=p></span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>section</span><span class=p></span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>h4</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;date&#34;</span><span class=p></span><span class=p>&gt;</span> {{ .Date.Format &#34;Mon Jan 2, 2006&#34; }} <span class=p>&lt;</span><span class=p>/</span><span class=nt>h4</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>h5</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;wordcount&#34;</span><span class=p></span><span class=p>&gt;</span> {{ .WordCount }} Words <span class=p>&lt;</span><span class=p>/</span><span class=nt>h5</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=p>/</span><span class=nt>section</span><span class=p>&gt;</span>
    {{ with .Params.topics }}
    <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;topics&#34;</span><span class=p></span><span class=p>&gt;</span>
      {{ range . }}
        <span class=p>&lt;</span><span class=nt>li</span><span class=p></span><span class=p>&gt;</span><span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ &#34;</span><span class=na>topics</span><span class=err>&#34;</span> <span class=err>|</span> <span class=na>absURL</span><span class=err>}</span><span class=err>}</span><span class=err>{</span><span class=err>{</span> <span class=err>.</span> <span class=err>|</span> <span class=na>urlize</span> <span class=err>}</span><span class=err>}</span><span class=err>&#34;</span><span class=p></span><span class=p>&gt;</span>{{ . }}<span class=p>&lt;</span><span class=p>/</span><span class=nt>a</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=p>/</span><span class=nt>li</span><span class=p>&gt;</span>
      {{ end }}
    <span class=p>&lt;</span><span class=p>/</span><span class=nt>ul</span><span class=p>&gt;</span>
    {{ end }}
    {{ with .Params.tags }}
    <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;tags&#34;</span><span class=p></span><span class=p>&gt;</span>
      {{ range . }}
        <span class=p>&lt;</span><span class=nt>li</span><span class=p></span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ &#34;</span><span class=na>tags</span><span class=err>&#34;</span> <span class=err>|</span> <span class=na>absURL</span> <span class=err>}</span><span class=err>}</span><span class=err>{</span><span class=err>{</span> <span class=err>.</span> <span class=err>|</span> <span class=na>urlize</span> <span class=err>}</span><span class=err>}</span><span class=err>&#34;</span><span class=p></span><span class=p>&gt;</span>{{ . }}<span class=p>&lt;</span><span class=p>/</span><span class=nt>a</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=p>/</span><span class=nt>li</span><span class=p>&gt;</span>
      {{ end }}
    <span class=p>&lt;</span><span class=p>/</span><span class=nt>ul</span><span class=p>&gt;</span>
    {{ end }}
    <span class=p>&lt;</span><span class=p>/</span><span class=nt>div</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span><span class=p></span><span class=p>&gt;</span>
        {{ with .PrevInSection }}
          <span class=p>&lt;</span><span class=nt>a</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;previous&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{.Permalink}}&#34;</span><span class=p></span><span class=p>&gt;</span> {{.Title}}<span class=p>&lt;</span><span class=p>/</span><span class=nt>a</span><span class=p>&gt;</span>
        {{ end }}
        {{ with .NextInSection }}
          <span class=p>&lt;</span><span class=nt>a</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;next&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{.Permalink}}&#34;</span><span class=p></span><span class=p>&gt;</span> {{.Title}}<span class=p>&lt;</span><span class=p>/</span><span class=nt>a</span><span class=p>&gt;</span>
        {{ end }}
    <span class=p>&lt;</span><span class=p>/</span><span class=nt>div</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=p>/</span><span class=nt>aside</span><span class=p>&gt;</span>
{{ end }}
</code></pre></td></tr></table></div></div></div><div class=post-copyright id=post-footer><p class=copyright-item><span>Author:&nbsp;</span>
<span>shuzang</span></p><p class=copyright-item><span>Updated on:&nbsp;</span>
<span>2020-11-11</span></p><p class=copyright-item><span>Share on:&nbsp;</span>
<span><a href="//twitter.com/share?url=https%3a%2f%2fshuzang.github.io%2f2020%2fhugo-develop-themes-2-templates%2f&text=hugo%e5%bc%80%e5%8f%91%e4%b8%bb%e9%a2%982-%e6%a8%a1%e6%9d%bf&via=" target=_blank title="Share on Twitter"><i class="fab fa-twitter fa-fw"></i></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fshuzang.github.io%2f2020%2fhugo-develop-themes-2-templates%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook-square fa-fw"></i></a><a href="//reddit.com/submit?url=https%3a%2f%2fshuzang.github.io%2f2020%2fhugo-develop-themes-2-templates%2f&title=hugo%e5%bc%80%e5%8f%91%e4%b8%bb%e9%a2%982-%e6%a8%a1%e6%9d%bf" target=_blank title="Share on Reddit"><i class="fab fa-reddit fa-fw"></i></a></span></p><p class=copyright-item></p><p class=copyright-item></p></div><br><div class=post-info-more><section><span class=tag><a href=https://shuzang.github.io/tags/hugo/><i class="fas fa-tag fa-fw"></i>&nbsp;Hugo</a>&nbsp;</span></section><section><span><a href=javascript:window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=https://shuzang.github.io>Home</a></span></section></div><div class=post-nav><a href=https://shuzang.github.io/2020/basic-concepts-of-photography/ class=prev rel=prev title=新知识学习-手机摄影><i class="fas fa-angle-left fa-fw"></i>新知识学习-手机摄影</a>
<a href=https://shuzang.github.io/2020/hugo-develop-themes-1-content-management/ class=next rel=next title=hugo开发主题1-内容管理>hugo开发主题1-内容管理<i class="fas fa-angle-right fa-fw"></i></a></div><div class=post-comment></div></article></div></main><footer class=footer><div class=copyright><div class=copyright-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://shuzang.github.io/about/ target=_blank>shuzang</a> | </span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreffer">Hugo</a> & <a href=https://github.com/dillonzq/LoveIt target=_blank rel="external nofollow noopener noreffer">LoveIt</a></div></div></footer></div><a href=# class=dynamic-to-top id=dynamic-to-top data-scroll><span>&nbsp;</span></a>
<script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-209130979-1','auto');ga('set','anonymizeIp',true);ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=/js/lib/jquery/jquery.slim.min.js></script><script src=/js/lib/lazysizes/lazysizes.min.js></script><script src=/js/lib/smooth-scroll/smooth-scroll.polyfills.min.js></script><script>window.scroll=new SmoothScroll('[data-scroll]',{speed:300,speedAsDuration:true});</script><link rel=stylesheet href=/css/lib/katex/katex.min.css><script src=/js/lib/katex/katex.min.js></script><script defer src=/js/lib/katex/auto-render.min.js></script><link rel=stylesheet href=/css/lib/katex/copy-tex.min.css><script defer src=/js/lib/katex/copy-tex.min.js></script><script defer src=/js/lib/katex/mhchem.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:true},{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true},{left:"$",right:"$",display:false},]});});</script><script src=/js/blog.min.js></script></body></html>